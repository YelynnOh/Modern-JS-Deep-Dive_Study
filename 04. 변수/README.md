## 4. 변수 

### 1) 변수란 무엇인가? 왜 필요한가?

```javascript
10 + 20
```
자바스크립트 엔진이 위 자바스크립트 코드를 계산(평가)하려면 10, 20, +와 같은 기호(리터럴과 연산자)의 의미를 알고 있어야 하며, 10+20이라는 표현식의 의미를 해석할 줄 알아야 한다.
이때 여기서 연산은 CPU가, 연산 과정에서 데이터를 기억하는 역할은 메모리가 담당한다.<br><br>
자바스크립트는 개발자가 직접 메모리 제어를 할 수 있게끔 하지 않는다. 즉, 메모리 주소를 통해 값에 직접 접근하지 못한다는 것이다. 따라서 기억하고 싶은 값을 메모리에 저장한 후, 이를 다시 사용하고 싶을 때 변수를 활용한다. 

> 🎯 __변수(variable)란?__ <br> 하나의 값을 저장하기 위해 확보한 메모리 공간 자체 혹은 그 메모리 공간을 식별하기 위해 붙인 이름. 즉, 메모리에서 값의 위치를 가리키는 상징적인 이름이다.

📌 _식별자란?_ <br>
식별자의 정의는 어떤 값을 구별해 식별할 수 있는 고유한 이름. 즉, 메모리 공간에 저장되어 있는 값을 구별해 식별한다.식별자는 값이 아니라 _메모리 주소_ 를 기억하고 있다. 때문에 식별자는 변수 뿐만 아니라 함수, 클래스 등의 이름을 총칭하는 개념이다.

---
### 2) 변수 선언

값을 저장하기 위한 메모리 공간을 확보하고, 변수 이름과 확보된 메모리 공간의 주소를 연결해서 값을 저장할 수 있게 준비하는 과정이다. 

보통 `var, const, let` 키워드로 선언이 된다.

📌 __`var, const, let`의 차이__

- `var` 재선언⭕, 재할당⭕
- `let` 재선언❌, 재할당⭕
- `const` 재선언❌, 재할당❌

<br>

>🎯 __변수 선언__ 은 __1️⃣선언 단계__(변수 이름을 등록해 자바스크립트 엔진에 변수 존재 알림)와 __2️⃣초기화 단계__(값 저장위한 메모리 공간 확보 및 undefined로 초기화)로 나뉘어진다. 

우리가 `var score;`식으로 변수를 선언하면 먼저 선언 단계와 초기화 단계가 동시에 발생한다. 먼저 자바스크립트 엔진에 변수의 존재를 알려 변수 이름 `score`을 등록한다. 이때, 구체적으로 얘기를 하면 변수 이름을 비롯한 모든 식별자는 _실행 컨텍스트(execution context)_ 에 등록이 된다. 그런 다음 `score` 변수에 암묵적으로 `undefined`를 할당해 초기화한다.

📌 _`undefined`로 우선 초기화해주는 이유?_ <br>
초기화를 하지 않으면 쓰레기 값(garbage value), 즉, 이전에 다른 애플리케이션이 사용했던 값이 남아 있을 수 있기 때문에 이러한 위험을 방지하기 위해 암묵적으로 초기화를 수행함!
<br><br>
❓ _JS의 가비지 컬렉터는 어떻게 동작하는가?_ <br>
읽다보면서 궁금했는데 좀 뒤에 나왔다😹 <br>
프로그래밍 언어는 _언매니지드 언어_ 와 _매니지드 언어_ 로 나뉜다. 전자는 개발자가 명시적으로 메모리 관리 및 제어를 할 수 있고, C 언어가 대표적이다. 후자는 메모리 관리 기능을 언어 차원에서 담당하며 개발자는 직접적으로 메모리 제어를 할 수 없다. 때문에 가비지 콜렉터가 메모리 해제를 수행하며 가비지 콜렉터는 때가 되면 알아서 필요없는 데이터들을 수집한다. 물론, 개발자는 모르게 말이다! 대표적인 언어로 JS, JAVA가 있다.
<br>[자바스크립트 가비지 콜렉팅 참고자료](https://ko.javascript.info/garbage-collection)

---
### 3) 변수 선언 실행 시점과 변수 호이스팅
```javascript
console.log(score);

var score;

//결과: undefined
```
이런 식으로 코드가 실행이 되더라도 전혀 에러가 나지 않는다! JS 코드는 인터프리터에 의해 한 줄 씩 순차적으로 실행이 되기 때문에 변수 선언 전에 변수를 참조하면 에러가 날 것 같은데, 왜 에러가 나지 않을까?

이유는 __변수 선언의 경우 소스 코드가 한 줄씩 순차적으로 실행되는 시점인 런타임(runtime)이 아니라 그 이전 단계에서 미리 실행이 되기 때문이다.__

> 🎯 이처럼 변수 선언문이 코드의 선두로 끌어 올려진 것처럼 동작하는 자바스크립트 고유의 특징은 __변수 호이스팅(variable hoisting)__ 이라고 한다. 

❓ _다른 언어의 경우 변수 호이스팅과 비슷한 개념이 있을까?_

---
### 4) 값의 할당 및 값의 재할당
```javascript
var score = 80;
```
이 코드에서는 변수 선언과 값의 할당이 동시에 일어난다. 이때, 변수 선언은 런타임 이전에 먼저 실행이 되지만, __값의 할당은 소스코드가 순차적으로 실행되는 런타임에 실행이 된다.__

때문에 메모리 입장에서 보았을 때 변수 선언 발생 후 `score` 변수가 메모리 주소 A 위치에 `undefined`가 할당이 되었다면, 런타임 중에는 새로운 메모리 주소 B에 80이라는 값이 할당되게 된다. 이는 _값의 재할당으로, 값이 재할당되면 새로운 메모리 공간을 확보하고 그 메모리 공간에 재할당하고싶은 값을 저장하게 된다._ 재할당 전의 값들은 가비지 콜렉터에 의해 수거된다. 

---
### 5) 식별자 네이밍 규칙

- 특수문자 제외한 문자, 숫자, 언더스코어(_), 달러 기호($) 포함 가능 (하지만 가독성을 따진다면 누가 기호로  변수명을 지을까..😇)
- 숫자로 시작할 수 없음
- 예약어는 식별자로 사용할 수 없음

📌 _네이밍 컨벤션(naming convention)_

- 카멜 케이스 `firstName` 🔥
- 스네이크 케이스 `first_name`
- 파스칼 케이스 `FirstName` 🔥
- 헝가리언 케이스(자료형에 대한 정보를 앞에 붙인다) `strFirstName`

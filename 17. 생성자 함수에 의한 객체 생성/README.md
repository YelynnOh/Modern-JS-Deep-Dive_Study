# 17. ìƒì„±ì í•¨ìˆ˜ì— ì˜í•œ ê°ì²´ ìƒì„±

## 1. Object ìƒì„±ì í•¨ìˆ˜

ìƒì„±ì í•¨ìˆ˜(constructor)ë€ `new` ì—°ì‚°ìì™€ í•¨ê»˜ í˜¸ì¶œí•˜ì—¬ ê°ì²´(ì¸ìŠ¤í„´ìŠ¤)ë¥¼ ìƒì„±í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë§í•œë‹¤. ìƒì„±ì í•¨ìˆ˜ì— ì˜í•´ ìƒì„±ëœ ê°ì²´ë¥¼ ì¸ìŠ¤í„´ìŠ¤(instance)ë¼ê³  í•œë‹¤. 
`Object` ìƒì„±ì í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ ë¹ˆ ê°ì²´ë¥¼ ìƒì„±í•˜ì—¬ ë°˜í™˜í•˜ëŠ”ë°, ë¹ˆ ê°ì²´ë¥¼ ìƒì„±í•œ ì´í›„ í”„ë¡œí¼í‹° ë˜ëŠ” ë©”ì„œë“œë¥¼ ì¶”ê°€í•´ ê°ì²´ë¥¼ ì™„ì„±í•  ìˆ˜ ìˆë‹¤.
JSëŠ” `Object` ìƒì„±ì í•¨ìˆ˜ ì´ì™¸ì—ë„ `String, Number, Boolean, Function, Array, Date, RegExp, Promise` ë“±ì˜ ë¹ŒíŠ¸ì¸(built-in) ìƒì„±ì í•¨ìˆ˜ë¥¼ ì œê³µí•œë‹¤. 

```js
const person = new Object();

// í”„ë¡œí¼í‹° ì¶”ê°€
person.name = "Lee";
person.sayHello = function () {
    console.log("Hi! My name is " + this.name);
};

console.log(person); // {name: "Lee", sayHello: Æ’}
person.sayHello(); // Hi! My name is Lee
```

```js
// String ìƒì„±ì í•¨ìˆ˜ì— ì˜í•œ String ê°ì²´ ìƒì„±
const strObj = new String("Lee");
console.log(typeof strObj); // object
console.log(strObj); // String {"Lee"}

// Number ìƒì„±ì í•¨ìˆ˜ì— ì˜í•œ Number ê°ì²´ ìƒì„±
const numObj = new Number(123);
console.log(typeof numObj); // object
console.log(numObj); // Number {123}

// Boolean ìƒì„±ì í•¨ìˆ˜ì— ì˜í•œ Boolean ê°ì²´ ìƒì„±
const boolObj = new Boolean(true);
console.log(typeof boolObj); // object
console.log(boolObj); // Boolean {true}

// Function ìƒì„±ì í•¨ìˆ˜ì— ì˜í•œ Function ê°ì²´(í•¨ìˆ˜) ìƒì„±
const func = new Function("x", "return x * x");
console.log(typeof func); // function
console.dir(func); // Æ’ anonymous(x)

// Array ìƒì„±ì í•¨ìˆ˜ì— ì˜í•œ Array ê°ì²´(ë°°ì—´) ìƒì„±
const arr = new Array(1, 2, 3);
console.log(typeof arr); // object
console.log(arr); // [1, 2, 3]

// RegExp ìƒì„±ì í•¨ìˆ˜ì— ì˜í•œ RegExp ê°ì²´(ì •ê·œ í‘œí˜„ì‹) ìƒì„±
const regExp = new RegExp(/ab+c/i);
console.log(typeof regExp); // object
console.log(regExp); // /ab+c/i

// Date ìƒì„±ì í•¨ìˆ˜ì— ì˜í•œ Date ê°ì²´ ìƒì„±
const date = new Date();
console.log(typeof date); // object
console.log(date); // Mon May 04 2020 08:36:33 GMT+0900 (ëŒ€í•œë¯¼êµ­ í‘œì¤€ì‹œ)
```

ë‹¤ë§Œ, ê°ì²´ë¥¼ ìƒì„±í•  ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë°©ë²•ìœ¼ë¡œ ê°ì²´ ë¦¬í„°ëŸ´ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë” ê°„í¸í•˜ë‹¤!

## 2. ìƒì„±ì í•¨ìˆ˜

__ê°ì²´ ë¦¬í„°ëŸ´ì— ì˜í•œ ê°ì²´ ìƒì„± ë°©ì‹ì˜ ë¬¸ì œì __

ì¥ì  > ê°ì²´ ë¦¬í„°ëŸ´ì— ì˜í•œ ê°ì²´ ìƒì„± ë°©ì‹ì€ ì§ê´€ì ì´ê³  ê°„í¸í•˜ë‹¤.

ë‹¨ì  > ë‹¨ í•˜ë‚˜ì˜ ê°ì²´ë§Œ ìƒì„±í•˜ê¸° ë•Œë¬¸ì— ë™ì¼í•œ í”„ë¡œí¼í‹°ë¥¼ ê°–ëŠ” ê°ì²´ë¥¼ ì—¬ëŸ¬ ê°œ ìƒì„±í•´ì•¼ í•˜ëŠ” ê²½ìš° ë§¤ë²ˆ ê°™ì€ í”„ë¡œí¼í‹°ë¥¼ ê¸°ìˆ í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ë¹„íš¨ìœ¨ì ì´ë‹¤.

```js
const circle1 = {
    radius: 5,
    getDiameter() {
        return 2 * this.radius;
    }
};

console.log(circle1.getDiameter()); // 10

const circle2 = {
    radius: 10,
    getDiameter() {
        return 2 * this.radius;
    }
};

console.log(circle2.getDiameter()); // 20
```

ìœ„ ì˜ˆì œì—ì„œ ë³´ë©´ `circle 1`ê³¼ `circle 2`ì˜ ê°ì²´ëŠ” í”„ë¡œí¼í‹° êµ¬ì¡°ê°€ ë™ì¼í•˜ë‹¤. ê°ì²´ ê³ ìœ  ìƒíƒœ(state) ë°ì´í„°ì¸ `radius` í”„ë¡œí¼í‹° ê°’ì€ ê°ì²´ë§ˆë‹¤ ë‹¤ë¥¼ ìˆ˜ ìˆì§€ë§Œ `getDiameter` ë©”ì„œë“œëŠ” ì™„ì „íˆ ë™ì¼í•˜ë‹¤.
í•˜ì§€ë§Œ ê°ì²´ ë¦¬í„°ëŸ´ì— ì˜í•´ ê°ì²´ë¥¼ ìƒì„œí•˜ëŠ” ê²½ìš° í”„ë¡œí¼í‹° êµ¬ì¡°ê°€ ë™ì¼í•¨ì—ë„ ë¶ˆêµ¬í•˜ê³  ë§¤ë²ˆ ê°™ì€ í”„ë¡œí¼í‹°ì™€ ë©”ì„œë“œë¥¼ ê¸°ìˆ í•´ì•¼ í•œë‹¤. ì´ëŠ” ë¹„íš¨ìœ¨ì ì´ë©°, ìˆ˜ì‹­ ê°œì˜ ê°ì²´ë¥¼ ìƒì„±í•˜ë©´ ë¬¸ì œê°€ í¬ë‹¤. 

__ìƒì„±ì í•¨ìˆ˜ì— ì˜í•œ ê°ì²´ ìƒì„± ë°©ì‹ì˜ ì¥ì __

ìƒì„±ì í•¨ìˆ˜ì— ì˜í•œ ê°ì²´ ìƒì„± ë°©ì‹ì€ ë§ˆì¹˜ ê°ì²´(ì¸ìŠ¤í„´ìŠ¤)ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•œ í…œí”Œë¦¿(í´ë˜ìŠ¤)ì²˜ëŸ¼ ìƒì„±ì í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ í”„ë¡œí¼í‹° êµ¬ì¡°ê°€ ë™ì¼í•œ ê°ì²´ ì—¬ëŸ¬ ê°œë¥¼ ê°„í¸í•˜ê²Œ ìƒì„±í•  ìˆ˜ ìˆë‹¤.

```js
//ìƒì„±ì í•¨ìˆ˜
function Circle(radius) {
    // ìƒì„±ì í•¨ìˆ˜ ë‚´ë¶€ì˜ thisëŠ” ìƒì„±ì í•¨ìˆ˜ê°€ ìƒì„±í•  ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¦¬í‚¨ë‹¤.
    this.radius = radius;
    this.getDiameter = function () {
        return 2 * this.radius;
    };
}

// ì¸ìŠ¤í„´ìŠ¤ì˜ ìƒì„±
const circle1 = new Circle(5); // ë°˜ì§€ë¦„ì´ 5ì¸ Circle ê°ì²´ë¥¼ ìƒì„±
const circle2 = new Circle(10); // ë°˜ì§€ë¦„ì´ 10ì¸ Circle ê°ì²´ë¥¼ ìƒì„±

console.log(circle1.getDiameter()); // 10
console.log(circle2.getDiameter()); // 20
```

ğŸ“Œ __this__

  `this`ëŠ” ê°ì²´ ìì‹ ì˜ í”„ë¡œí¼í‹°ë‚˜ ë©”ì„œë“œë¥¼ ì°¸ì¡°í•˜ê¸° ìœ„í•œ ìê¸° ì°¸ì¡° ë³€ìˆ˜(self-referencing variable)ë‹¤. `this`ê°€ ê°€ë¦¬í‚¤ëŠ” ê°’, __ì¦‰ `this` ë°”ì¸ë”©ì€ í•¨ìˆ˜ í˜¸ì¶œ ë°©ì‹ì— ë”°ë¼ ë™ì ìœ¼ë¡œ ê²°ì •ëœë‹¤.__
  
  ![image](https://github.com/YelynnOh/Modern-JS-Deep-Dive_Study/assets/110076475/ab0a6869-e1c8-443c-ba6c-17123f4baf21)
  
  ```js
  // í•¨ìˆ˜ëŠ” ë‹¤ì–‘í•œ ë°©ì‹ìœ¼ë¡œ í˜¸ì¶œë  ìˆ˜ ìˆë‹¤.
  function foo() {
      console.log(this);
  }
  
  // ì¼ë°˜ì ì¸ í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œ
  // ì „ì—­ ê°ì²´ëŠ” ë¸Œë¼ìš°ì € í™˜ê²½ì—ì„œëŠ” window, Node.js í™˜ê²½ì—ì„œëŠ” globalì„ ê°€ë¦¬í‚¨ë‹¤.
  foo(); // window
  
  // ë©”ì„œë“œë¡œì„œ í˜¸ì¶œ
  const obj = {foo}; // ES6 í”„ë¡œí¼í‹° ì¶•ì•½ í‘œí˜„
  obj.foo(); // obj
  
  // ìƒì„±ì í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œ
  const inst = new foo(); // inst
  ```

## ìƒì„±ì í•¨ìˆ˜ì˜ ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ê³¼ì •

ìƒì„±ì í•¨ìˆ˜ì˜ ì—­í• ì€ í”„ë¡œí¼í‹° êµ¬ì¡°ê°€ ë™ì¼í•œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•œ í…œí”Œë¦¿ìœ¼ë¡œ ë™ì‘í•˜ì—¬ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒ(í•„ìˆ˜)ê³¼ ìƒì„±ëœ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì´ˆê¸°í™”(ì˜µì…˜) í•˜ëŠ” ê²ƒì´ë‹¤.
`new` ì—°ì‚°ìì™€ í•¨ê»˜ ìƒì„±ì í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ê²½ìš° JS ì—”ì§„ì€ ì•”ë¬µì  ì²˜ë¦¬ë¥¼ í†µí•´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ê³  ì´ˆê¸°í™” í›„ ë°˜í™˜í•œë‹¤.

```js
// ìƒì„±ì í•¨ìˆ˜
function Circle(radius) {
    // ì¸ìŠ¤í„´ìŠ¤ ì´ˆê¸°í™”
    this.radius = radius;
    this.getDiameter = function () {
        return 2 * this.radius;
    };
}

// ì¸ìŠ¤í„´ìŠ¤ì˜ ìƒì„±
const circle1 = new Circle(5); // ë°˜ì§€ë¦„ì´ 5ì¸ Circle ê°ì²´ë¥¼ ìƒì„±
```

__1) ì¸ìŠ¤í„´ìŠ¤ ìƒì„±ê³¼ this ë°”ì¸ë”©__

- ì•”ë¬µì  ë¹ˆ ê°ì²´ ìƒì„±(== ì¸ìŠ¤í„´ìŠ¤)
- ë°”ë¡œ ì´ ì¸ìŠ¤í„´ìŠ¤ê°€ `this`ì— ë°”ì¸ë”©ëœë‹¤

> ë°”ì¸ë”©ì´ë€?
> ì‹ë³„ìì™€ ê°’ì„ ì—°ê²°í•˜ëŠ” ê³¼ì •
> ë³€ìˆ˜ ì„ ì–¸ì€ ë³€ìˆ˜ ì´ë¦„(ì‹ë³„ì)ê³¼ í™•ë³´ëœ ë©”ëª¨ë¦¬ ê³µê°„ì˜ ì£¼ì†Œë¥¼ ë°”ì¸ë”©í•˜ëŠ” ê²ƒì´ë‹¤.
> this ë°”ì¸ë”©ì€ thisì™€ thisê°€ ê°€ë¦¬í‚¬ ê°ì²´ë¥¼ ë°”ì¸ë”©í•˜ëŠ” ê²ƒì´ë‹¤.

```js
function Circle(radius) {
    // 1. ì•”ë¬µì ìœ¼ë¡œ ì¸ìŠ¤í„´ìŠ¤ê°€ ìƒì„±ë˜ê³  thisì— ë°”ì¸ë”©ëœë‹¤.
    console.log(this); // Circle {}

    this.radius = radius;
    this.getDiameter = function () {
        return 2 * this.radius;
    };
}
```

__2) ì¸ìŠ¤í„´ìŠ¤ ì´ˆê¸°í™”__

- thisì— ë°”ì¸ë”©ë˜ì–´ ìˆëŠ” ì¸ìŠ¤í„´ìŠ¤ì— í”„ë¡œí¼í‹°ë‚˜ ë©”ì„œë“œë¥¼ ì¶”ê°€í•˜ê³  ìƒì„±ì í•¨ìˆ˜ê°€ ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ì€ ì´ˆê¸°ê°’ì„ ì¸ìŠ¤í„´ìŠ¤ í”„ë¡œí¼í‹°ì— í• ë‹¹í•˜ì—¬ ì´ˆê¸°í™”í•˜ê±°ë‚˜ ê³ ì •ê°’ì„ í• ë‹¹í•œë‹¤.
```js
function Circle(radius) {
    // 1. ì•”ë¬µì ìœ¼ë¡œ ì¸ìŠ¤í„´ìŠ¤ê°€ ìƒì„±ë˜ê³  thisì— ë°”ì¸ë”©ëœë‹¤.

    // 2. thisì— ë°”ì¸ë”©ë˜ì–´ ìˆëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì´ˆê¸°í™”í•œë‹¤.
    this.radius = radius;
    this.getDiameter = function () {
        return 2 * this.radius;
    };
}
```

__3) ì¸ìŠ¤í„´ìŠ¤ ë°˜í™˜__

- ìƒì„±ì í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ëª¨ë“  ì²˜ë¦¬ê°€ ëë‚˜ë©´ ì™„ì„±ëœ ì¸ìŠ¤í„´ìŠ¤ê°€ ë°”ì¸ë”©ëœ `this`ë¥¼ ì•”ë¬µì ìœ¼ë¡œ ë°˜í™˜í•œë‹¤.

```js
function Circle(radius) {
    // 1. ì•”ë¬µì ìœ¼ë¡œ ì¸ìŠ¤í„´ìŠ¤ê°€ ìƒì„±ë˜ê³  thisì— ë°”ì¸ë”©ëœë‹¤.

    // 2. thisì— ë°”ì¸ë”©ë˜ì–´ ìˆëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì´ˆê¸°í™”í•œë‹¤.
    this.radius = radius;
    this.getDiameter = function () {
        return 2 * this.radius;
    };

    // 3. ì™„ì„±ëœ ì¸ìŠ¤í„´ìŠ¤ê°€ ë°”ì¸ë”©ëœ thisê°€ ì•”ë¬µì ìœ¼ë¡œ ë°˜í™˜ëœë‹¤
}

// ì¸ìŠ¤í„´ìŠ¤ ìƒì„±. Circle ìƒì„±ì í•¨ìˆ˜ëŠ” ì•”ë¬µì ìœ¼ë¡œ thisë¥¼ ë°˜í™˜í•œë‹¤.
const circle = new Circle(1);
console.log(circle); // Circle {radius: 1, getDiameter: Æ’}
```

- ë§Œì•½ thisê°€ ì•„ë‹Œ ë‹¤ë¥¸ _ê°ì²´_ ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ë°˜í™˜í•˜ë©´ thisê°€ ë°˜í™˜ë˜ì§€ ëª»í•˜ê³  return ë¬¸ì— ëª…ì‹œí•œ ê°ì²´ê°€ ë°˜í™˜ëœë‹¤.

```js
function Circle(radius) {
    // 1. ì•”ë¬µì ìœ¼ë¡œ ì¸ìŠ¤í„´ìŠ¤ê°€ ìƒì„±ë˜ê³  thisì— ë°”ì¸ë”©ëœë‹¤.

    // 2. thisì— ë°”ì¸ë”©ë˜ì–´ ìˆëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì´ˆê¸°í™”í•œë‹¤.
    this.radius = radius;
    this.getDiameter = function () {
        return 2 * this.radius;
    };

    // 3. ì•”ë¬µì ìœ¼ë¡œ thisë¥¼ ë°˜í™˜í•œë‹¤.
    // ëª…ì‹œì ìœ¼ë¡œ ê°ì²´ë¥¼ ë°˜í™˜í•˜ë©´ ì•”ë¬µì ì¸ this ë°˜í™˜ì´ ë¬´ì‹œëœë‹¤.
    return {};
}

// ì¸ìŠ¤í„´ìŠ¤ ìƒì„±. Circle ìƒì„±ì í•¨ìˆ˜ëŠ” ëª…ì‹œì ìœ¼ë¡œ ë°˜í™˜í•œ ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.
const circle = new Circle(1);
console.log(circle); // {}
```

í•˜ì§€ë§Œ ëª…ì‹œì ìœ¼ë¡œ _ì›ì‹œ ê°’_ ì„ ë°˜í™˜í•˜ë©´ ì›ì‹œ ê°’ ë°˜í™˜ì€ ë¬´ì‹œë˜ê³  ì•”ë¬µì ìœ¼ë¡œ thisê°€ ë°˜í™˜ëœë‹¤.

```js
function Circle(radius) {
    // 1. ì•”ë¬µì ìœ¼ë¡œ ì¸ìŠ¤í„´ìŠ¤ê°€ ìƒì„±ë˜ê³  thisì— ë°”ì¸ë”©ëœë‹¤.

    // 2. thisì— ë°”ì¸ë”©ë˜ì–´ ìˆëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì´ˆê¸°í™”í•œë‹¤.
    this.radius = radius;
    this.getDiameter = function () {
        return 2 * this.radius;
    };

    // 3. ì•”ë¬µì ìœ¼ë¡œ thisë¥¼ ë°˜í™˜í•œë‹¤.
    // ëª…ì‹œì ìœ¼ë¡œ ì›ì‹œê°’ì„ ë°˜í™˜í•˜ë©´ ì›ì‹œê°’ ë°˜í™˜ì€ ë¬´ì‹œë˜ê³  ì•”ë¬µì ìœ¼ë¡œ thisê°€ ë°˜í™˜ëœë‹¤.
    return 100;
}

// ì¸ìŠ¤í„´ìŠ¤ ìƒì„±. Circle ìƒì„±ì í•¨ìˆ˜ëŠ” ëª…ì‹œì ìœ¼ë¡œ ë°˜í™˜í•œ ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.
const circle = new Circle(1);
console.log(circle); // Circle {radius: 1, getDiameter: Æ’}
```

__ëª…ì‹œì ìœ¼ë¡œ thisê°€ ì•„ë‹Œ ë‹¤ë¥¸ ê°’ì„ ë°˜í™˜í•˜ëŠ” ê²ƒì€ ìƒì„±ì í•¨ìˆ˜ì˜ ê¸°ë³¸ ë™ì‘ì„ í›¼ì†í•˜ë¯€ë¡œ ìƒì„±ì í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ return ë¬¸ì„ ë°˜ë“œì‹œ ìƒëµí•´ì•¼ í•œë‹¤.__

__4) ë‚´ë¶€ ë©”ì„œë“œ[[Call]]ê³¼ [[Construct]]__

í•¨ìˆ˜ ì„ ì–¸ë¬¸ ë˜ëŠ” í•¨ìˆ˜ í‘œí˜„ì‹ìœ¼ë¡œ ì •ì˜í•œ í•¨ìˆ˜ëŠ” ì¼ë°˜ì ì¸ í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” ê²ƒì€ ë¬¼ë¡ , `new` ì—°ì‚°ìì™€ í•¨ê»˜ í˜¸ì¶œí•˜ì—¬ ê°ì²´ë¥¼ ìƒì„±í•  ìˆ˜ ìˆë‹¤. (ìƒì„±ì í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œ)
í•¨ìˆ˜ëŠ” ê°ì²´ì´ë¯€ë¡œ ì¼ë°˜ ê°ì²´(ordinary object)ì™€ ë™ì¼í•˜ê²Œ ë™ì‘í•  ìˆ˜ ìˆë‹¤. í•¨ìˆ˜ ê°ì²´ëŠ” ì¼ë°˜ ê°ì²´ê°€ ê°€ì§€ê³  ìˆëŠ” ë‚´ë¶€ ìŠ¬ë¡¯ê³¼ ë‚´ë¶€ ë©”ì„œë“œë¥¼ ëª¨ë‘ ê°€ì§„ë‹¤.
```js
// í•¨ìˆ˜ëŠ” ê°ì²´ë‹¤.
function foo() {}

// í•¨ìˆ˜ëŠ” ê°ì²´ì´ë¯€ë¡œ í”„ë¡œí¼í‹°ë¥¼ ì†Œìœ í•  ìˆ˜ ìˆë‹¤.
foo.prop = 10;

// í•¨ìˆ˜ëŠ” ê°ì²´ì´ë¯€ë¡œ ë©”ì„œë“œë¥¼ ì†Œìœ í•  ìˆ˜ ìˆë‹¤.
foo.method = function () {
    console.log(this.prop);
};

foo.method(); // 10
```

í•˜ì§€ë§Œ ì¼ë°˜ ê°ì²´ì™€ ë‹¬ë¦¬ í•¨ìˆ˜ëŠ” í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤. ë”°ë¼ì„œ í•¨ìˆ˜ ê°ì²´ëŠ” í•¨ìˆ˜ë¡œì„œ ë™ì‘í•˜ê¸° ìœ„í•´ í•¨ìˆ˜ ê°ì²´ë§Œì„ ìœ„í•œ `[[Environment]], [[FormalParameters]]` ë“±ì˜ ë‚´ë¶€ ìŠ¬ë¡¯ê³¼ `[[Call]], [[Construct]]` ê°™ì€ ë‚´ë¶€ ë©”ì„œë“œë¥¼ ì¶”ê°€ë¡œ ê°€ì§€ê³  ìˆë‹¤.

í•¨ìˆ˜ëŠ” ì¼ë°˜ í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œë˜ë©´ í•¨ìˆ˜ ê°ì²´ì˜ ë‚´ë¶€ ë©”ì„œë“œ `[[Call]]` ì´ í˜¸ì¶œë˜ê³ ` new `ì—°ì‚°ìì™€ í•¨ê»˜ ìƒì„±ì í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œë˜ë©´ ë‚´ë¶€ ë©”ì„œë“œ `[[Construct]]` ê°€ í˜¸ì¶œëœë‹¤.

```js
function foo() {}

// ì¼ë°˜ì ì¸ í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œ: [[Call]]ì´ í˜¸ì¶œëœë‹¤.
foo();

// ìƒì„±ì í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œ: [[Construct]]ê°€ í˜¸ì¶œëœë‹¤.
new foo();
```

- ë‚´ë¶€ ë©”ì„œë“œ `[[Call]]`ì„ ê°–ëŠ” í•¨ìˆ˜ ê°ì²´ë¥¼ `callable` : í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” ê°ì²´, ì¦‰, í•¨ìˆ˜
- ë‚´ë¶€ ë©”ì„œë“œ `[[Construct]]`ë¥¼ ê°–ëŠ” í•¨ìˆ˜ ê°ì²´ë¥¼ `constructor` : ìƒì„±ì í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜
- ë‚´ë¶€ ë©”ì„œë“œ `[[Construct]]`ë¥¼ ê°–ì§€ ì•ŠëŠ” í•¨ìˆ˜ ê°ì²´ë¥¼ `non-constructor` : ê°ì²´ë¥¼ ìƒì„±ì í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œí•  ìˆ˜ ì—†ëŠ” í•¨ìˆ˜

_ë”°ë¼ì„œ í•¨ìˆ˜ ê°ì²´ëŠ” `callable`ì´ë©´ì„œ `constructor`ì´ê±°ë‚˜ `callable`ì´ë©´ì„œ `non-construct`ì´ë‹¤. ì¦‰, ëª¨ë“  í•¨ìˆ˜ ê°ì²´ëŠ” í˜¸ì¶œí•  ìˆ˜ ìˆì§€ë§Œ ëª¨ë“  í•¨ìˆ˜ ê°ì²´ë¥¼ ìƒì„±ì í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤._

__5) constructorì™€ non-constructorì˜ êµ¬ë¶„__

JS ì—”ì§„ì€ í•¨ìˆ˜ ì •ì˜ë¥¼ í‰ê°€í•˜ì—¬ í•¨ìˆ˜ ê°ì²´ë¥¼ ìƒì„±í•  ë•Œ í•¨ìˆ˜ ì •ì˜ ë°©ì‹ì— ë”°ë¼ í•¨ìˆ˜ë¥¼ `constructor`ì™€ `non-constructor`ë¡œ êµ¬ë¶„í•œë‹¤.

- constructor: í•¨ìˆ˜ ì„ ì–¸ë¬¸, í•¨ìˆ˜ í‘œí˜„ì‹, í´ë˜ìŠ¤(í´ë˜ìŠ¤ë„ í•¨ìˆ˜)
- non-constructor: ë©”ì„œë“œ(ES6 ë©”ì„œë“œ ì¶•ì•½ í‘œí˜„), í™”ì‚´í‘œ í•¨ìˆ˜

ì´ë•Œ ì£¼ì˜í•  ê²ƒì€ ECMAScript ì‚¬ì–‘ì—ì„œ ë©”ì„œë“œë¡œ ì¸ì •í•˜ëŠ” ë²”ìœ„ê°€ ì¼ë°˜ì ì¸ ì˜ë¯¸ì˜ ë©”ì„œë“œë³´ë‹¤ ì¢ë‹¤ëŠ” ê²ƒì´ë‹¤.
```js
// ì¼ë°˜ í•¨ìˆ˜ ì •ì˜: í•¨ìˆ˜ ì„ ì–¸ë¬¸, í•¨ìˆ˜ í‘œí˜„ì‹
function foo() { }
const bar = function () { };
// í”„ë¡œí¼í‹° xì˜ ê°’ìœ¼ë¡œ í• ë‹¹ëœ ê²ƒì€ ì¼ë°˜ í•¨ìˆ˜ë¡œ ì •ì˜ëœ í•¨ìˆ˜ë‹¤. ì´ëŠ” ë©”ì„œë“œë¡œ ì¸ì •í•˜ì§€ ì•ŠëŠ”ë‹¤.
const baz = {
    x: function () { }
};

// ì¼ë°˜ í•¨ìˆ˜ë¡œ ì •ì˜ëœ í•¨ìˆ˜ë§Œì´ constructorì´ë‹¤.
new foo(); // foo {}
new bar(); // bar {}
new baz.x(); // x {}

// í™”ì‚´í‘œ í•¨ìˆ˜ ì •ì˜
const arrow = () => { };

new arrow(); // TypeError: arrow is not a constructor

// ë©”ì„œë“œ ì •ì˜: ES6ì˜ ë©”ì„œë“œ ì¶•ì•½ í‘œí˜„ë§Œ ë©”ì„œë“œë¡œ ì¸ì •í•œë‹¤.
const obj = {
    x() { }
};

new obj.x(); // TypeError: obj.x is not a constructor
```
ECMAScript ì‚¬ì–‘ì—ì„œ ë©”ì„œë“œë€ ES6ì˜ ë©”ì„œë“œ ì¶•ì•½ í‘œí˜„ë§Œì„ ì˜ë¯¸í•œë‹¤. í•¨ìˆ˜ ì •ì˜ ë°©ì‹ì— ë”°ë¼ constructorì™€ non-constructorë¥¼ êµ¬ë¶„í•œë‹¤

ğŸ‘€ ìƒì„±ì í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œë  ê²ƒì„ ê¸°ëŒ€í•˜ê³  ì •ì˜í•˜ì§€ ì•Šì€ ì¼ë°˜ í•¨ìˆ˜(callable & constructor)ì— new ì—°ì‚°ìë¥¼ ë¶™ì—¬ í˜¸ì¶œí•˜ë©´ ìƒì„±ì í•¨ìˆ˜ì²˜ëŸ¼ ë™ì‘í•  ìˆ˜ ìˆë‹¤.


__6) new ì—°ì‚°ì__

`new` ì—°ì‚°ìì™€ í•¨ê»˜ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ í•´ë‹¹ í•¨ìˆ˜ëŠ” ìƒì„±ì í•¨ìˆ˜(`[[Construct]]`)ë¡œ ë™ì‘í•œë‹¤. ì´ë•Œ, í•´ë‹¹ í•¨ìˆ˜ëŠ” constructorì´ì–´ì•¼ í•œë‹¤.
ë°˜ëŒ€ë¡œ `new` ì—°ì‚°ì ì—†ì´ ìƒì„±ì í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ ì¼ë°˜ í•¨ìˆ˜ë¡œ í˜¸ì¶œëœë‹¤. ì¦‰, í•¨ìˆ˜ ê°ì²´ ë‚´ë¶€ ë©”ì„œë“œ `[[Constructor]]`ê°€ í˜¸ì¶œë˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ `[[Call]]`ì´ í˜¸ì¶œëœë‹¤. 
```js
// ìƒì„±ì í•¨ìˆ˜ë¡œì„œ ì •ì˜í•˜ì§€ ì•Šì€ ì¼ë°˜ í•¨ìˆ˜
function add(x, y) {
    return x + y;
}

// ìƒì„±ì í•¨ìˆ˜ë¡œì„œ ì •ì˜í•˜ì§€ ì•Šì€ ì¼ë°˜ í•¨ìˆ˜ë¥¼ new ì—°ì‚°ìì™€ í•¨ê»˜ í˜¸ì¶œ
let inst = new add();

// í•¨ìˆ˜ê°€ ê°ì²´ë¥¼ ë°˜í™˜í•˜ì§€ ì•Šì•˜ìœ¼ë¯€ë¡œ ë°˜í™˜ë¬¸ì´ ë¬´ì‹œëœë‹¤. ë”°ë¼ì„œ ë¹ˆ ê°ì²´ê°€ ìƒì„±ë˜ì–´ ë°˜í™˜ëœë‹¤.
console.log(inst); // {}

// ê°ì²´ë¥¼ ë°˜í™˜í•˜ëŠ” ì¼ë°˜ í•¨ìˆ˜
function createUser(name, role) {
    return {name, role};
}

// ì¼ë°˜ í•¨ìˆ˜ë¥¼ new ì—°ì‚°ìì™€ í•¨ê»˜ í˜¸ì¶œ
inst = new createUser("Lee", "admin");

// í•¨ìˆ˜ê°€ ìƒì„±í•œ ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.
console.log(inst); // { name: 'Lee', role: 'admin' }
```
```js
// ìƒì„±ì í•¨ìˆ˜
function Circle(radius) {
    this.radius = radius;
    this.getDiameter = function () {
        return 2 * this.radius;
    };
}

// new ì—°ì‚°ì ì—†ì´ ìƒì„±ì í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ ì¼ë°˜ í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œëœë‹¤.
const circle = Circle(5);
console.log(circle); // undefined

// ì¼ë°˜ í•¨ìˆ˜ ë‚´ë¶€ì˜ thisëŠ” ì „ì—­ ê°ì²´ windowë¥¼ ê°€ë¦¬í‚¨ë‹¤.
console.log(radius); // 5
console.log(getDiameter()); // 10

circle.getDiameter();
// TypeError: Cannot read property 'getDiameter' of undefined
```

ì¼ë°˜ í•¨ìˆ˜ì™€ ìƒì„±ì í•¨ìˆ˜ì— íŠ¹ë³„í•œ í˜•ì‹ì  ì°¨ì´ëŠ” ì—†ë‹¤. __ë”°ë¼ì„œ ìƒì„±ì í•¨ìˆ˜ëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì²« ë¬¸ìë¥¼ ëŒ€ë¬¸ìë¡œ ê¸°ìˆ í•˜ëŠ” íŒŒìŠ¤ì¹¼ ì¼€ì´ìŠ¤ë¡œ ëª…ëª…í•´ ì¼ë°˜ í•¨ìˆ˜ì™€ êµ¬ë³„í•˜ì.__

__7) new.target__

__ìƒì„±ì í•¨ìˆ˜ê°€ `new` ì—°ì‚°ì ì—†ì´ í˜¸ì¶œë˜ëŠ” ìœ„í—˜ì„±ì„ íšŒí”¼í•˜ê¸° ìœ„í•´ ES6ì—ì„œëŠ” `new.target`ì„ ì§€ì›í•œë‹¤.__

`this`ì™€ ìœ ì‚¬í•˜ê²Œ constructorì¸ ëª¨ë“  í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ì•”ë¬µì ì¸ ì§€ì—­ ë³€ìˆ˜ì™€ ê°™ì´ ì‚¬ìš©ë˜ë©° ë©”íƒ€ í”„ë¡œí¼í‹°ë¼ê³  ë¶€ë¥¸ë‹¤(IEì—ì„œëŠ” ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤.)

í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ `new.target`ì„ ì‚¬ìš©í•˜ë©´ `new` ì—°ì‚°ìì™€ í•¨ê»˜ ìƒì„±ì í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œë˜ì—ˆëŠ”ì§€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

- `new` ì—°ì‚°ìì™€ í•¨ê»˜ ìƒì„±ì í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œ : í•¨ìˆ˜ ë‚´ë¶€ì˜ `new.target`ì€ í•¨ìˆ˜ ìì‹ ì„ ê°€ë¦¬í‚¨ë‹¤.
- `new` ì—°ì‚°ìì™€ ì—†ì´ ì¼ë°˜ í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œ : í•¨ìˆ˜ ë‚´ë¶€ì˜ `new.target`ì€ undefinedë‹¤.

```js
// ìƒì„±ì í•¨ìˆ˜
function Circle(radius) {
    // ì´ í•¨ìˆ˜ê°€ new ì—°ì‚°ìì™€ í•¨ê»˜ í˜¸ì¶œë˜ì§€ ì•Šì•˜ë‹¤ë©´ new.targetì€ undefined
    if (!new.target) {
        // new ì—°ì‚°ìì™€ í•¨ê»˜ ìƒì„±ì í•¨ìˆ˜ë¥¼ ì¬ê·€ í˜¸ì¶œí•˜ì—¬ ìƒì„±ëœ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°˜í™˜í•œë‹¤.
        return new Circle(radius);
    }

    this.radius = radius;
    this.getDiameter = function () {
        return 2 * this.radius;
    };
}

// new ì—°ì‚°ì ì—†ì´ ìƒì„±ì í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ë„ new.targetì„ í†µí•´ ìƒì„±ì í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œëœë‹¤.
const circle = Circle(5);
console.log(circle.getDiameter()); // 10
```

ëŒ€ë¶€ë¶„ì˜ ë¹ŒíŠ¸ì¸ ìƒì„±ì í•¨ìˆ˜(`Object, String, Number, Boolean, Function, Array, Date, RegExp, Promise`)ëŠ” `new` ìƒì„±ìì™€ í•¨ê»˜ í˜¸ì¶œë˜ì—ˆëŠ”ì§€ë¥¼ í™•ì¸í•œ í›„ ì ì ˆí•œ ê°’ì„ ë°˜í™˜í•œë‹¤ê³  í•œë‹¤.
```js
let obj = new Object();
console.log(obj); // {}

obj = Object();
console.log(obj); // {}

let f = new Function("x", "return x ** x");
console.log(f); // Æ’ anonymous(x) { return x ** x }

f = Function("x", "return x ** x");
console.log(f); // Æ’ anonymous(x) { return x ** x }
```

í•˜ì§€ë§Œ `String, Number, Boolean` ìƒì„±ì í•¨ìˆ˜ëŠ” `new` ì—°ì‚°ìì™€ í•¨ê»˜ í˜¸ì¶œí–ˆì„ ë•Œ `String, Number, Boolean` ê°ì²´ë¥¼ ìƒì„±í•˜ì—¬ ë°˜í™˜í•˜ì§€ë§Œ, `new` ì—°ì‚°ì ì—†ì´ í˜¸ì¶œí•˜ë©´ ë¬¸ìì—´, ìˆ«ì, ë¶ˆë¦¬ì–¸ ê°’ì„ ë°˜í™˜í•œë‹¤.
```js
const str = String(123);
console.log(str, typeof str); // 123 string

const num = Number("123");
console.log(num, typeof num); // 123 number

const bool = Boolean("true");
console.log(bool, typeof bool); // true boolean

```

